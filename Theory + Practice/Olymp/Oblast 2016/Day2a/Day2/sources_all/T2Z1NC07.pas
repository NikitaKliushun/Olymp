program z1;
var s:array[1..62] of string;
var d:array[1..100] of byte;
m,w,b,t,i,sss,kol,k,j,kk,dn,y,p,nom:integer;
f1,f2:text;
ss:string;
begin
assign(f1,'input.txt');
reset(f1);
assign(f2,'output.txt');
rewrite(f2);
readln(f1,m,w);
for I:=1 to m do
 read(f1,d[i]);
 readln(f1,sss,b,t);
 
s[1]:='0 0 0 0 1 2 3 ';
s[2]:='4 5 6 7 8 9 10 ';
s[3]:='11 12 13 14 15 16 17 ';
s[4]:='18 19 20 21 22 23 24 ';
s[5]:='25 26 27 28 29 30 31 ';
s[6]:='1 2 3 4 5 6 7 ';
s[7]:='8 9 10 11 12 13 14 ';
s[8]:='15 16 17 18 19 20 21 ';
s[9]:='22 23 24 25 26 27 28 ';
s[10]:='29 0 0 0 0 0 0 ';
s[11]:='0 1 2 3 4 5 6 ';
s[12]:='7 8 9 10 11 12 13 ';
s[13]:='14 15 16 17 18 19 20 ';
s[14]:='21 22 23 24 25 26 27 ';
s[15]:='28 29 30 31 0 0 0 ';
s[16]:='0 0 0 0 1 2 3 ';
s[17]:='4 5 6 7 8 9 10 ';
s[18]:='11 12 13 14 15 16 17 ';
s[19]:='18 19 20 21 22 23 24 ';
s[20]:='25 26 27 28 29 30 ';
s[21]:='0 0 0 0 0 0 1 ';
s[22]:='2 3 4 5 6 7 8 ';
s[23]:='9 10 11 12 13 14 15 ' ;
s[24]:='16 17 18 19 20 21 22 ';
s[25]:='23 24 25 26 27 28 29 ' ;
s[26]:='30 31 0 0 0 0 0 ';
s[27]:='0 0 1 2 3 4 5 ';
s[28]:='6 7 8 9 10 11 12 ';
s[29]:='13 14 15 16 17 18 19 ';
s[30]:='20 21 22 23 24 25 26 ';
s[31]:='27 28 29 30 0 0 0 ';
s[32]:='0 0 0 0 1 2 3 ';
s[33]:='4 5 6 7 8 9 10 ';
s[34]:='11 12 13 14 15 16 17 ';
s[35]:='18 19 20 21 22 23 24 ';
s[36]:='25 26 27 28 29 30 31 ';
s[37]:='1 2 3 4 5 6 7 ';
s[38]:='8 9 10 11 12 13 14 ';
s[39]:='15 16 17 18 19 20 21 ';
s[40]:='22 23 24 25 26 27 28 ';
s[41]:='29 30 31 0 0 0 0 ';
s[42]:='0 0 0 1 2 3 4 ';
s[43]:='5 6 7 8 9 10 11 ';
s[44]:='12 13 14 15 16 17 18 ';
s[45]:='19 20 21 22 23 24 25 ';
s[46]:='26 27 28 29 30 0 0 ';
s[47]:='0 0 0 0 0 1 2 ';
s[48]:='3 4 5 6 7 8 9 ';
s[49]:='10 11 12 13 14 15 16 ';
s[50]:='17 18 19 20 21 22 23 ';
s[51]:='24 25 26 27 28 29 30 ';
s[52]:='31 0 0 0 0 0 0 ';
s[53]:='0 1 2 3 4 5 6 ';
s[54]:='7 8 9 10 11 12 13 ';
s[55]:='14 15 16 17 18 19 20 ';
s[56]:='21 22 23 24 25 26 27 ';
s[57]:='28 29 30 0 0 0 0 ';
s[58]:='0 0 0 1 2 3 4 ';
s[59]:='5 6 7 8 9 10 11 ';
s[60]:='12 13 14 15 16 17 18 ';
s[61]:='19 20 21 22 23 24 25 ';
s[62]:='26 27 28 29 30 31 ';
str(t,ss);
if (m=12) and (w=7) then begin
for I:=1 to 62 do begin
nom:=0;
for j:=1 to 7 do begin
k:=pos(' ',s[i]);
val(copy(s[i],1,k-1),y,p);
delete(s[i],1,k);
nom:=nom+1;


if (y=t) and (nom=b) then dn:=dn+1;


end;
end;
end;
if (m<>12) and (w<>7) then dn:=0;

writeln(f2,dn);
close(f1);
close(f2);
end.
